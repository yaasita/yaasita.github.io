<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <title>yaasita/blog</title>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />
    <link href="/stylesheets/bootstrap.css" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/main.css" rel="stylesheet" type="text/css" />
    <script src="/javascripts/main.js" type="text/javascript"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-37419565-1', 'yaasita.github.io');
      ga('send', 'pageview');
    </script>
  </head>
  <body>
    <header>
    <h1><a href="/"># cd ~/yaasita<span class="blinking">_</span></a></h1>
      <h2>普段思った事とか・・・メモ帳、チラ裏</h2>
    </header>
    <hr class="spliter">
    
    <div id="container">
      <div id="main" role="main">
            <div class="article-body">
    <div class="title">
  2008/06/14
  <p>
    <a href="/2008/06/14/12134.html">ActivePerlでyahooにメールを送ろうか</a>
  </p>
</div>

    Net::SMTPモジュールを使います。ただデフォルトでauthメソッドを使おうとしてもパケットを投げてくれないので、下のモジュールを新たにppmか何かでインストールして下さい。<br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://1.bp.blogspot.com/_51uwrZcw3_U/SFMnMWwSsoI/AAAAAAAAADc/UuqVgLWGx0o/s1600-h/installmodule.png"><img style="display:block; margin:0px auto 10px; text-align:center;cursor:pointer; cursor:hand;" src="http://1.bp.blogspot.com/_51uwrZcw3_U/SFMnMWwSsoI/AAAAAAAAADc/UuqVgLWGx0o/s320/installmodule.png" border="0" alt=""id="BLOGGER_PHOTO_ID_5211552287017841282" /></a><br />次にコーディングに入ります。Net::SMTPについての説明は<a href="http://perldoc.jp/docs/modules/libnet-1.12/Net/SMTP.pod">こちら</a>を参照してください。<br />メールヘッダについてはTo:だけでいいかと思ったらうまく送信できなかったので、Thunderbirdのパケットをキャプチャしたものを丸パクリします。<br />Dataヘッダについては何でもいいかと思いますが、一応現在時を取得する方が親切設計でしょう。どれが必要なヘッダか不要なヘッダかは面倒なので調べていません。<br />Message-IDですが<a href="http://www.ccjc-net.or.jp/~kouza/header/header33.html">こちら</a>を見る限り何でもいいそうです。好きな命名規則で良いでしょう。<br />＊参考<br />yahooの鯖はSMTPを拡張したESMTPで運用されています。ESMTPではグリーティングの際にEHLOコマンドを用います。（SMTPではHELOコマンド）<br />EHLOコマンドでは自分のホストを通知します。Thunderbirdでは<br /><br />EHLO [192.168.0.6]<br /><br />とグリーティングしますが、Net::SMTPでは<br /><br />EHLO localhost.localdomain<br /><br />とグリーティングします。まあどっちでも構いませんが、、、<br /><a href="http://www.atmarkit.co.jp/fnetwork/rensai/netpro06/netpro01.html">http://www.atmarkit.co.jp/fnetwork/rensai/netpro06/netpro01.html</a><br /><br /><br />#!/usr/local/bin/perl<br /><br />use Net::SMTP;<br /><br />$user="??????";<br />$passwd="?????????????";<br />$maildata=<<"END";<br />Message-ID: <1234567890123456@yahoo.co.jp><br />Date: Sat, 14 Jun 2008 09:59:39 +0900<br />From: uesugi <????????????????2000@yahoo.co.jp><br />User-Agent: Thunderbird 2.0.0.14 (Windows/20080421)<br />MIME-Version: 1.0<br />To: yahoo <????????????????????@yahoo.co.jp><br />Subject: This Mail Make Perl<br />Content-Type: text/plain; charset=ISO-2022-JP<br />Content-Transfer-Encoding: 7bit<br />END<br /><br /><br />$smtp = Net::SMTP->new('smtp.mail.yahoo.co.jp',Timeout=>30,Debug=>1);<br /><br /><br />$smtp->auth($user, $passwd) or die "Auth Fail\n";<br />$smtp->mail('????????????????????@yahoo.co.jp');<br />$smtp->to('????????????????????@yahoo.co.jp');<br /><br />$smtp->data();<br />$smtp->datasend("$maildata");<br />$smtp->datasend("\n");<br />$smtp->datasend("A simple test message\n");<br />$smtp->dataend();<br /><br />$smtp->quit;<br /><br /><br />print $smtp->domain,"\n";<br />$smtp->quit;


    <div class="tag-box">
      <a href="/tags/program.html">program</a>
</div>

    <hr class="spliter2">
    <div class="comment-link">
      <a href="/2008/06/14/12134.html#disqus_thread">Comment</a>
  </div>
  </div>
  <div class="article-body">
    <div class="title">
  2008/06/14
  <p>
    <a href="/2008/06/14/12114.html">シェルの環境変数で前回コマンドの終了ステータスを確認する</a>
  </p>
</div>

    $?に入っているそうですよ<br /><a href="http://www.geocities.jp/geo_sunisland/exit_status.html">http://www.geocities.jp/geo_sunisland/exit_status.html</a>


    <div class="tag-box">
      <a href="/tags/linux.html">linux</a>
</div>

    <hr class="spliter2">
    <div class="comment-link">
      <a href="/2008/06/14/12114.html#disqus_thread">Comment</a>
  </div>
  </div>
  <div class="article-body">
    <div class="title">
  2008/06/14
  <p>
    <a href="/2008/06/14/12155.html">Debian(etch)でcpan設定</a>
  </p>
</div>

    まずCPANを使う上で必要なソフトは下記のとおりです。先にインストールしておきます。<br />gzip,tar,unzip,make,lynx,wget,ncftpget(ncftpでインストール)<br /><br /><br />#cpan<br />で初回起動時の設定が入る。基本的にEnterでデフォルトの設定で問題ないと思います。<br />The next option deals with the charset your terminal supports. In<br />general CPAN is English speaking territory, thus the charset does not<br />matter much, but some of the aliens out there who upload their<br />software to CPAN bear names that are outside the ASCII range. If your<br />terminal supports UTF-8, you say no to the next question, if it<br />supports ISO-8859-1 (also known as LATIN1) then you say yes, and if it<br />supports neither nor, your answer does not matter, you will not be<br />able to read the names of some authors anyway. If you answer no, names<br />will be output in UTF-8.<br /><br />Your terminal expects ISO-8859-1 (yes/no)? <br />↑のように聞かれたらnoがいいかもしれません。<br /><br />そんで使えるCPAN鯖が無かった場合はftp://ftp.kddlabs.co.jp/CPAN/とかを使うといいかもです。<br /><br />find `perl -le 'print for @INC'`  -name '*.pm' | less<br />↑のコマンドでインストールされているモジュールを確認できます。<br /><br />あと<br />cpan> m /Net::SMTP_.*/<br />Module id = Net::SMTP_auth<br />    CPAN_USERID  APLEINER (Alex Pleiner <alex-cpan.ext2@zeitform.de>)<br />    CPAN_VERSION 0.08<br />    CPAN_FILE    A/AP/APLEINER/Net-SMTP_auth-0.08.tar.gz<br />    MANPAGE      Net::SMTP_auth - Simple Mail Transfer Protocol Client with AUTHentication<br />    INST_FILE    /usr/local/share/perl/5.8.8/Net/SMTP_auth.pm<br />    INST_VERSION 0.08<br />↑みたいな感じでモジュール検索もできます


    <div class="tag-box">
      <a href="/tags/linux.html">linux</a>
      <a href="/tags/soft.html">, soft</a>
      <a href="/tags/program.html">, program</a>
</div>

    <hr class="spliter2">
    <div class="comment-link">
      <a href="/2008/06/14/12155.html#disqus_thread">Comment</a>
  </div>
  </div>
  <div class="article-body">
    <div class="title">
  2008/06/12
  <p>
    <a href="/2008/06/12/12177.html">pearのコマンドとか・・・</a>
  </p>
</div>

    phpのライブラリ管理のpear<br />よく使うコマンド備忘録<br /><br />pear<br />PEARコマンド一覧表示<br /><br />pear help <i>command_type</i><br />command_typeの説明を表示<br /><br />pear list<br />現在インストールされているパッケージ一覧<br /><br />pear list-upgrades<br />更新ライブラリの確認<br /><br />pear upgrade <i>package</i><br />パッケージのアップグレード前述のpear list-upgradeで出てきたPACKAGE欄を<br /><i>package</i>に入れる


    <div class="tag-box">
      <a href="/tags/soft.html">soft</a>
      <a href="/tags/program.html">, program</a>
</div>

    <hr class="spliter2">
    <div class="comment-link">
      <a href="/2008/06/12/12177.html#disqus_thread">Comment</a>
  </div>
  </div>
  <div class="article-body">
    <div class="title">
  2008/06/12
  <p>
    <a href="/2008/06/12/12198.html">aptitudeのよく使うコマンドとか</a>
  </p>
</div>

    検索時には正規表現が使えます<br />lで検索すると制限できていいかも・・・<br /><br />~d説明<br />    正規表現説明にパッケージ説明がマッチするパッケージにマッチします。 <br /><br />~d"test"<br />みたいな感じで<br /><br /><a href="http://dolphin.c.u-tokyo.ac.jp/~nori1/aptitude-ja/ch02s03.html">検索パターン</a>


    <div class="tag-box">
      <a href="/tags/linux.html">linux</a>
      <a href="/tags/soft.html">, soft</a>
</div>

    <hr class="spliter2">
    <div class="comment-link">
      <a href="/2008/06/12/12198.html#disqus_thread">Comment</a>
  </div>
  </div>
  <div class="article-body">
    <div class="title">
  2008/06/08
  <p>
    <a href="/2008/06/08/12219.html">scimとgvimは相性悪いみたい</a>
  </p>
</div>

    http://d.hatena.ne.jp/silverintegral/20071115<br />こんな感じでどーぞ


    <div class="tag-box">
      <a href="/tags/linux.html">linux</a>
      <a href="/tags/soft.html">, soft</a>
</div>

    <hr class="spliter2">
    <div class="comment-link">
      <a href="/2008/06/08/12219.html#disqus_thread">Comment</a>
  </div>
  </div>
  <div class="article-body">
    <div class="title">
  2008/06/07
  <p>
    <a href="/2008/06/07/12261.html">Linux版のvim7に日本語ヘルプを入れてみる</a>
  </p>
</div>

    なんかkaoriyaさんのとこに<br /><a href="http://www.kaoriya.net/vimdoc_j/">http://www.kaoriya.net/vimdoc_j/</a><br />という日本語ヘルプがあったので落としてくるそんで解凍とかする。<br />解凍したものを/usr/share/vim/vim71に放り込んでも拡張子が.jaxとかなっててうまくいかない<br />しょうがないから拡張子を.jax→.txtにする<br />一括変換とかシェルスクリプトでできそうだけど分からないからPerlで書く<br />#!/usr/local/bin/perl<br /><br />$newdir=".";<br />chdir $newdir or die "$newdir is not found!\n";<br />opendir(DIR, ".");<br />@file = readdir(DIR);<br />closedir(DIR);<br /><br />@file = sort {(stat ($a))[8] <=> (stat ($b))[8]} @file;<br /><br />foreach(@file){<br /> if($_=~/^\.$|^\.\.$|^rename\.pl$/){ <br />  next;<br /> }<br /> if ($_=~/\.jax$/){<br />  $moto=$_;<br />  $_=~s/\.jax$//;<br />  system "mv $moto $_.txt";<br />  #print "$moto $_.txt\n";<br /> }<br /># print $_,"\n";<br /># `mv $moto `;<br />}


    <div class="tag-box">
      <a href="/tags/linux.html">linux</a>
      <a href="/tags/program.html">, program</a>
</div>

    <hr class="spliter2">
    <div class="comment-link">
      <a href="/2008/06/07/12261.html#disqus_thread">Comment</a>
  </div>
  </div>
  <div class="article-body">
    <div class="title">
  2008/06/07
  <p>
    <a href="/2008/06/07/12240.html">定期的に文章をバックアップする</a>
  </p>
</div>

    なんか大事な文章を日付順にバックアップしておきたいときに書くシェルスクリプトとか・・・<br /><br />   #! /bin/bash<br />   <br />   var=`LANG=C date +'%Y%m%d%a'`<br />   cp /media/taihi1/komando.txt /media/taihi1/komando-bak/$var.txt


    <div class="tag-box">
      <a href="/tags/linux.html">linux</a>
      <a href="/tags/program.html">, program</a>
</div>

    <hr class="spliter2">
    <div class="comment-link">
      <a href="/2008/06/07/12240.html#disqus_thread">Comment</a>
  </div>
  </div>
  <div class="article-body">
    <div class="title">
  2008/05/17
  <p>
    <a href="/2008/05/17/12282.html">telnetのポート番号を変更したりとか・・・</a>
  </p>
</div>

    /etc/servicesあたりかなあと<br />/etc/inetd.confとかも・・・


    <div class="tag-box">
      <a href="/tags/linux.html">linux</a>
      <a href="/tags/net.html">, net</a>
</div>

    <hr class="spliter2">
    <div class="comment-link">
      <a href="/2008/05/17/12282.html#disqus_thread">Comment</a>
  </div>
  </div>
  <div class="article-body">
    <div class="title">
  2008/05/06
  <p>
    <a href="/2008/05/06/12303.html">expectを使って自動的にPCをシャットダウンさせる</a>
  </p>
</div>

    こんな感じで書くと良いですよ<br />WebからやりたいならPerlならsystem関数とかで呼べば良いんじゃないでしょうか<br /><br /><br />#!/usr/bin/expect<br />set timeout 10<br />spawn telnet 192.168.0.2<br />expect "login:"<br />send "root\n"<br />expect "Password:"<br />send "hogehoge\n"<br />send "shutdown -h now\n"<br />send "exit\n"<br />interact


    <div class="tag-box">
      <a href="/tags/linux.html">linux</a>
      <a href="/tags/soft.html">, soft</a>
</div>

    <hr class="spliter2">
    <div class="comment-link">
      <a href="/2008/05/06/12303.html#disqus_thread">Comment</a>
  </div>
  </div>

  <p class="page">Page 72 of 82</p>

    <p class="prev-page"><a href="/page/71/">Previous page</a></p>

    <p class="next-page"><a href="/page/73/">Next page</a></p>
<div class="clear"></div>

      </div>
    
      <aside>
        <h2>Author</h2>
        yaasita: SIerから脱出した人<br />
        <ul>
          <li><a href="https://github.com/yaasita/">github</a></li>
          <li><a href="https://twitter.com/yaasita">twitter</a></li>
          <li><a href="http://yaasita.tumblr.com/">tumblr</a></li>
        </ul>
        <h2>Search</h2>
        <form action="//google.co.jp/search" method="get">
          <fieldset role="search">
            <input type="hidden" name="noj" value="1" />
            <input type="hidden" name="q" value="site:yaasita.github.io" />
            <input class="search" type="text" name="q" results="0" placeholder="このブログを検索"/>
          </fieldset>
        </form>
        <h2>Tags</h2>
        <ul>
            <li><a href="/tags/program.html">program (117)</a></li>
            <li><a href="/tags/soft.html">soft (367)</a></li>
            <li><a href="/tags/linux.html">linux (321)</a></li>
            <li><a href="/tags/hard.html">hard (34)</a></li>
            <li><a href="/tags/net.html">net (175)</a></li>
            <li><a href="/tags/crack.html">crack (20)</a></li>
            <li><a href="/tags/game.html">game (57)</a></li>
            <li><a href="/tags/rule.html">rule (14)</a></li>
            <li><a href="/tags/windows.html">windows (54)</a></li>
            <li><a href="/tags/life.html">life (61)</a></li>
        </ul>
        <h2>Archive</h2>
          <h3><a href="/2016.html">2016 (23)</a></h3>
            <ul>
                <li class="month" onclick="display_toggle('12');"><span id="li-12">►  </span>12月 (1)</li>
                <ul class="kiji" id="ul-12">
                    <li><a href="/2016/12/03/google-cloud-dns.html">GCPの Cloud DNSでグルーレコード</a></li>
                </ul>
                <li class="month" onclick="display_toggle('11');"><span id="li-11">►  </span>11月 (2)</li>
                <ul class="kiji" id="ul-11">
                    <li><a href="/2016/11/25/value-domain.html">VALUE-DOMAINでグルーレコード追加</a></li>
                    <li><a href="/2016/11/20/aws-vm-import.html">AWSへVMイメージごと移動する手順</a></li>
                </ul>
                <li class="month" onclick="display_toggle('10');"><span id="li-10">►  </span>10月 (2)</li>
                <ul class="kiji" id="ul-10">
                    <li><a href="/2016/10/31/flets-dns.html">フレッツのDNS挙動</a></li>
                    <li><a href="/2016/10/22/smart-phone.html">最近買ったスマホ</a></li>
                </ul>
                <li class="month" onclick="display_toggle('9');"><span id="li-9">►  </span>9月 (2)</li>
                <ul class="kiji" id="ul-9">
                    <li><a href="/2016/09/10/update-notify.html">更新通知のbashrc</a></li>
                    <li><a href="/2016/09/04/nepu.html">超次元アクション ネプテューヌU</a></li>
                </ul>
                <li class="month" onclick="display_toggle('8');"><span id="li-8">►  </span>8月 (1)</li>
                <ul class="kiji" id="ul-8">
                    <li><a href="/2016/08/27/smplayer.html">smplayerでリピート再生</a></li>
                </ul>
                <li class="month" onclick="display_toggle('7');"><span id="li-7">►  </span>7月 (1)</li>
                <ul class="kiji" id="ul-7">
                    <li><a href="/2016/07/31/aws-vpn.html">AWSのVPNまわり</a></li>
                </ul>
                <li class="month" onclick="display_toggle('6');"><span id="li-6">►  </span>6月 (2)</li>
                <ul class="kiji" id="ul-6">
                    <li><a href="/2016/06/22/s3fs.html">s3fs使う</a></li>
                    <li><a href="/2016/06/11/deep-learning.html">やる夫で学ぶ機械学習シリーズ</a></li>
                </ul>
                <li class="month" onclick="display_toggle('5');"><span id="li-5">►  </span>5月 (2)</li>
                <ul class="kiji" id="ul-5">
                    <li><a href="/2016/05/10/sengoku-musou.html">戦国無双クロニクル3(Vita)攻略</a></li>
                    <li><a href="/2016/05/04/botbot-me.html">IRCのログを記録するbotbot.me</a></li>
                </ul>
                <li class="month" onclick="display_toggle('4');"><span id="li-4">►  </span>4月 (3)</li>
                <ul class="kiji" id="ul-4">
                    <li><a href="/2016/04/25/netdata.html">リアルタイム監視ソフトnetdata</a></li>
                    <li><a href="/2016/04/25/syncthing.html">ファイル同期ソフトSyncthing</a></li>
                    <li><a href="/2016/04/24/git-it.html">Git-itやってみた</a></li>
                </ul>
                <li class="month" onclick="display_toggle('3');"><span id="li-3">►  </span>3月 (1)</li>
                <ul class="kiji" id="ul-3">
                    <li><a href="/2016/03/26/hdd_bad_sector.html">HDDの不良セクタ埋める</a></li>
                </ul>
                <li class="month" onclick="display_toggle('2');"><span id="li-2">►  </span>2月 (2)</li>
                <ul class="kiji" id="ul-2">
                    <li><a href="/2016/02/21/mojolicious.html">Mojoliciousのwebsocket回り</a></li>
                    <li><a href="/2016/02/15/ff10-2.html">ff10-2</a></li>
                </ul>
                <li class="month" onclick="display_toggle('1');"><span id="li-1">►  </span>1月 (4)</li>
                <ul class="kiji" id="ul-1">
                    <li><a href="/2016/01/25/dame-engineer.html">下位10%のダメなエンジニアシリーズ</a></li>
                    <li><a href="/2016/01/24/link.html">リンク</a></li>
                    <li><a href="/2016/01/11/factor.html">素因数分解の話</a></li>
                    <li><a href="/2016/01/06/acpi.html">systemdでの電源管理</a></li>
                </ul>
            </ul>
          <h3><a href="/2015.html">2015 (25)</a></h3>
          <h3><a href="/2014.html">2014 (88)</a></h3>
          <h3><a href="/2013.html">2013 (73)</a></h3>
          <h3><a href="/2012.html">2012 (71)</a></h3>
          <h3><a href="/2011.html">2011 (83)</a></h3>
          <h3><a href="/2010.html">2010 (122)</a></h3>
          <h3><a href="/2009.html">2009 (151)</a></h3>
          <h3><a href="/2008.html">2008 (119)</a></h3>
          <h3><a href="/2007.html">2007 (63)</a></h3>
      </aside>
    </div>
    <div class="clear"></div>
    <hr class="spliter">
    <footer>
    Copyright &copy; 2016 - yaasita - Powered by <a href="http://middlemanapp.com/jp/">middleman</a>
    </footer>
    <script src="http://platform.tumblr.com/v1/share.js"></script>
    <script type="text/javascript" src="http://b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"></script>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
    <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'yaasita'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
    </script>
  </body>
</html>
