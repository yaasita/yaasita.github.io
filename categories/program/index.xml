<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title># cd ~yaasita</title>
    <link>https://yaasita.github.io/categories/program/index.xml</link>
    <description>Recent content on # cd ~yaasita</description>
    <generator>Hugo</generator>
    <language>ja</language>
    <atom:link href="/categories/program/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>複数ファイルアップロードの実装</title>
      <link>https://yaasita.github.io/2017/04/02/multiple-upload</link>
      <pubDate>Sun, 02 Apr 2017 04:18:50 +0900</pubDate>
      
      <guid>https://yaasita.github.io/2017/04/02/multiple-upload</guid>
      <description>multiple指定してuploadフォーム作るときの話
&amp;lt;input type=&amp;quot;file&amp;quot; name=&amp;quot;files&amp;quot; multiple /&amp;gt;  で複数ファイル選択できるが
Perl CGIで受けるときに↓みたいにすると
my @files = $q-&amp;gt;param(&#39;files&#39;); for my $filename (@files) { my $fn = decode(&amp;quot;UTF-8&amp;quot;, $filename); move($q-&amp;gt;tmpFileName($filename), &amp;quot;/path/to/dir&amp;quot;); }  Safari(iOS版で確認)はfilenameを全部同じにしてPOSTしてくるのでうまくいかない
(AndroidとかはOK)
なのでこんな感じにする
my @fhs = $q-&amp;gt;upload(&#39;files&#39;); my %fname_count; for my $fh (@fhs){ my $out_filename = non_overlapping_filenames(&amp;quot;$fh&amp;quot;); my $io_handle = $fh-&amp;gt;handle; open (my $wr,&amp;quot;&amp;gt;&amp;quot;, $out_filename) or die $!; while (&amp;lt;$io_handle&amp;gt;){ print $wr $_; } close $wr; push(@result, decode(&amp;quot;UTF-8&amp;quot;,&amp;quot;$fh&amp;quot;)); }  あと古めのアンドロイドはmultiple指定しても複数ファイル選択ができない</description>
    </item>
    
    <item>
      <title>Vue.jsとモーダルウィンドウ</title>
      <link>https://yaasita.github.io/2017/03/04/vuejs-modal</link>
      <pubDate>Sat, 04 Mar 2017 02:29:40 +0900</pubDate>
      
      <guid>https://yaasita.github.io/2017/03/04/vuejs-modal</guid>
      <description> 参考実装 slotで後から要素を上書きすればOK
 https://github.com/yaasita/vuejs-modal
参考リンク  https://jp.vuejs.org/v2/examples/modal.html
  </description>
    </item>
    
    <item>
      <title>Vue.jsでドラッグ＆ドロップリスト</title>
      <link>https://yaasita.github.io/2017/02/20/draggable-list</link>
      <pubDate>Mon, 20 Feb 2017 23:17:28 +0900</pubDate>
      
      <guid>https://yaasita.github.io/2017/02/20/draggable-list</guid>
      <description> Vue.js 2.1.10でやってみる
https://github.com/yaasita/vuejs-dad-box
 並び変え終わったらdragendで
var request_url = &amp;quot;https://hogehogehoge&amp;quot; var req = new XMLHttpRequest(); req.open(&#39;POST&#39;, request_url, false); req.setRequestHeader(&amp;quot;Content-Type&amp;quot;, &amp;quot;application/json&amp;quot;); req.send(JSON.stringify(this.boxes));  とかやってどっかに飛ばす
んで後ろ側で
$sort_json = json_decode(file_get_contents(&amp;quot;php://input&amp;quot;),true);  とかやって受けた
実際は毎回更新させるのは重いだろうし、交換したDOM二つだけをjsonに乗せるとか工夫の余地あり
参考リンク  多分Vue.js 1 時代のやつ
 Vue.jsのリストレンダリングとhtml5のドラッグ＆ドロップの実装
  ネイティブ HTML5 ドラッグ＆ドロップ
  </description>
    </item>
    
    <item>
      <title>Vue.js内のメソッドはコロン省略しない方が良い</title>
      <link>https://yaasita.github.io/2017/02/17/do-not-omit-colon-in-vuejs</link>
      <pubDate>Fri, 17 Feb 2017 02:06:29 +0900</pubDate>
      
      <guid>https://yaasita.github.io/2017/02/17/do-not-omit-colon-in-vuejs</guid>
      <description>InternetExplorer11で
SCRIPT1003: &#39;:&#39; がありません。  というエラーになるから
// OK var ok = new Vue({ el: &#39;#example1&#39;, data: { }, methods: { HogeMethod: function(){ } } }); // NG var ng = new Vue({ el: &#39;#example2&#39;, data: { }, methods: { HogeMethod(){ } } });  chromeとかMicrosoft Edgeとかなら良いんだけどね</description>
    </item>
    
    <item>
      <title>relをtumblrテーマに加える</title>
      <link>https://yaasita.github.io/2017/02/14/add-rel-to-tumblr</link>
      <pubDate>Tue, 14 Feb 2017 01:05:25 +0900</pubDate>
      
      <guid>https://yaasita.github.io/2017/02/14/add-rel-to-tumblr</guid>
      <description>tumblrのテーマをDefaultにしてみた
一点気になったのは
リンクがこんな感じでrel属性が指定されてない
&amp;lt;a href=&amp;quot;{PreviousPage}&amp;quot; class=&amp;quot;left&amp;quot;&amp;gt; &amp;lt;a rel=&amp;quot;next&amp;quot; href=&amp;quot;{NextPage}&amp;quot; class=&amp;quot;right&amp;quot;&amp;gt;  これだとvimiumの[[, ]]コマンドで辿れないのでそこだけ修正した
 修正後のテーマ
 https://gist.github.com/yaasita/40831000ea20c85f20eeccaa7de5c9c3
  参考リンク
 rel=”next”とrel=”prev” の使い方
   </description>
    </item>
    
    <item>
      <title>閉じるボタンとVue.js</title>
      <link>https://yaasita.github.io/2017/02/07/close-button-with-vuejs</link>
      <pubDate>Tue, 07 Feb 2017 23:59:54 +0900</pubDate>
      
      <guid>https://yaasita.github.io/2017/02/07/close-button-with-vuejs</guid>
      <description>box並べて閉じるボタンつけて、押されたらDOM消して何かするみたいなよくあるインターフェイス
Vue.js使って書いてみた
すごい便利
 https://github.com/yaasita/vuejs-close-button</description>
    </item>
    
    <item>
      <title>新旧リダイレクト</title>
      <link>https://yaasita.github.io/2017/01/16/redirect-githubpage</link>
      <pubDate>Mon, 16 Jan 2017 23:36:18 +0900</pubDate>
      
      <guid>https://yaasita.github.io/2017/01/16/redirect-githubpage</guid>
      <description> middlemanからの移行に際してリンクが壊れまくった
GoogleのSearch Console
https://yaasita.tumblr.com/post/155945715637 
とりあえずJavaScriptで新URL案内すればいいか
 こんな感じ
https://yaasita.tumblr.com/post/155945774152 
旧ページ  記事ページ
 https://yaasita.github.io/2010/08/30/5917.html
  タグページ
 https://yaasita.github.io/tags/soft.html
  年ページ
 https://yaasita.github.io/2008.html
   </description>
    </item>
    
    <item>
      <title>ore_markdownを画像埋め込みに対応させた</title>
      <link>https://yaasita.github.io/2017/01/15/ore_markdown_update2</link>
      <pubDate>Sun, 15 Jan 2017 02:47:40 +0900</pubDate>
      
      <guid>https://yaasita.github.io/2017/01/15/ore_markdown_update2</guid>
      <description>またore_markdown-goの修正
こんな感じに画像データをBase64にして埋め込めばHTMLファイル一枚で完結しそうだったので修正した
&amp;lt;img src=&amp;quot;data:image/png;base64,(base64文字列)&amp;quot; alt=&amp;quot;img1&amp;quot;&amp;gt;  修正内容
吐き出されたHTMLの例
https://gist.githubusercontent.com/yaasita/d9b55cff5e52197adf4840cf702e5bd6/raw/c6a3c2f96f4360ad3fa526c6c5ae5302acd26769/preview.html
保存してHTMLを表示させれば画像がみれるはず</description>
    </item>
    
    <item>
      <title>ansibleで作ったロール</title>
      <link>https://yaasita.github.io/2017/01/09/my-ansible-role</link>
      <pubDate>Mon, 09 Jan 2017 16:24:41 +0900</pubDate>
      
      <guid>https://yaasita.github.io/2017/01/09/my-ansible-role</guid>
      <description>成果物  ec2でスワップファイル置くとかするやつ
 https://github.com/yaasita/ansible_role_amazon-ec2
  aptのproxy設定
 https://github.com/yaasita/ansible_role_apt-proxy
  ブラックホールメールサーバ作るときの設定
 https://github.com/yaasita/ansible_role_blackhole-postfix
  adminユーザ作るとき
 https://github.com/yaasita/ansible_role_admin-server
  centosでよくやる設定
 https://github.com/yaasita/ansible_role_common_centos
  Ubuntuでよくやる設定
 https://github.com/yaasita/ansible_role_common_ubuntu
  Dockerコンテナにするときによくやる設定
 https://github.com/yaasita/ansible_role_docker-care
  munin-node入れるとき
 https://github.com/yaasita/ansible_role_munin
  mysql
 https://github.com/yaasita/ansible_role_mysql
  nagios nrpe
 https://github.com/yaasita/ansible_role_nagios-nrpe
  ネットワーク設定
 https://github.com/yaasita/ansible_role_network
  proxy設定(主にaptの)
 https://github.com/yaasita/ansible_role_proxy
  railsの初期設定
 https://github.com/yaasita/ansible_role_rails
  rbenv</description>
    </item>
    
    <item>
      <title>ore_markdownをGo言語で書き直した</title>
      <link>https://yaasita.github.io/2017/01/06/ore_markdown_to_golang</link>
      <pubDate>Fri, 06 Jan 2017 15:44:33 +0900</pubDate>
      
      <guid>https://yaasita.github.io/2017/01/06/ore_markdown_to_golang</guid>
      <description> 久々に ore_markdownを書き直した
感想とか  Ruby(Gem: github-markdown)→Go(russross/blackfriday)で書き直し
 スタティックファイルもgo-bindataでバイナリに閉じ込めた
 OS間の違いを意識するのがめんどくさいのでVimでの判定は全部やめてGo側に寄せた
 早くて良い
  成果物とかライブラリ  作ったもの
 https://github.com/yaasita/ore_markdown
 https://github.com/yaasita/ore_markdown-go
  blackfriday
 https://github.com/russross/blackfriday
 https://godoc.org/github.com/russross/blackfriday
  go-bindata
 https://github.com/jteeuwen/go-bindata
   </description>
    </item>
    
    <item>
      <title>blogをmiddlemanからhugoに移行した</title>
      <link>https://yaasita.github.io/2017/01/05/middleman2hugo</link>
      <pubDate>Thu, 05 Jan 2017 04:50:10 +0900</pubDate>
      
      <guid>https://yaasita.github.io/2017/01/05/middleman2hugo</guid>
      <description> 使ってみた感想  ビルドはmiddlemanで10分かかってたけど1秒になった
 themeはgeppakuというのを使用 シンプルで良い
 Tumblrリンクのプルリクエストも快くマージしてくれた感謝m(_ _)m
  pagination 周りの部分はちょっとページ数が多いとカラム落ちしたり苦しかったので書き直した
 taxonomiesを追加して、年別のアーカイブページを作成
 アーカイブページを逆順にする対応はなぜかうまくいかなかったので後で調査する
 とりあえずJavaScriptで逆順にした &amp;gt; gist
  hugo serverのライブリロードがとっても良い(ブラウザも自動更新)
 ただしpagination周りで変な書き方するとサーバごと落ちる
  DISQUS周りはちょっとカスタマイズした
 なぜかデフォルトだと読み込まなかったので
  markdown周りはほぼ設定ファイルで完結
 今回の設定はこんな感じ
  middleman時代のリンクを維持するためにUglyURLs設定したけどcategoriesとかリンク切れが面倒だったので中止
 参考: http://wdkk.co.jp/note/2015/0824-hugo-public/
  Highlight.js今回無効にした過去分のcodeブロックが微妙になったので
  総評
Static Site Generatorはとても良い
移行するにも、更新するにもメンテがすごく楽
移行スクリプト 基本的にはファイル名にある時間のデータをTOMLに直して終わり
/home/yamasitaにhugo,middlemanのディレクトリがある前提
 参考リンク  middleman
 hugo
  </description>
    </item>
    
    <item>
      <title>更新通知のbashrc</title>
      <link>https://yaasita.github.io/2016/09/10/update-notify</link>
      <pubDate>Sat, 10 Sep 2016 12:52:00 +0900</pubDate>
      
      <guid>https://yaasita.github.io/2016/09/10/update-notify</guid>
      <description>こんな感じで、更新を促す
 </description>
    </item>
    
    <item>
      <title>s3fs使う</title>
      <link>https://yaasita.github.io/2016/06/22/s3fs</link>
      <pubDate>Wed, 22 Jun 2016 13:40:00 +0900</pubDate>
      
      <guid>https://yaasita.github.io/2016/06/22/s3fs</guid>
      <description>s3fsはamazon S3をファイルしすてむのように使うやつ
ただ遅い
基本ここ見てやる
https://github.com/s3fs-fuse/s3fs-fuse/wiki/Installation-Notes
今回はCeontOS6を対象
# paco入れておく yum install paco # コンパイルに必要なもの入れる yum install -y gcc libstdc++-devel gcc-c++ curl-devel libxml2-devel openssl-devel mailcap # fuse wget https://github.com/libfuse/libfuse/releases/download/fuse_2_9_4/fuse-2.8.5.tar.gz ./configure make paco -lD &#39;make install&#39; # /usr/local/lib 追記 vi /etc/ld.so.conf ldconfig # s3fs wget http://s3fs.googlecode.com/files/s3fs-1.74.tar.gz tar xvaf s3fs-1.74.tar.gz cd s3fs-1.74/ autoreconf --install export PKG_CONFIG_PATH=/usr/local/lib/pkgconfig ./configure --prefix=/usr make paco -lD &#39;make install&#39; # mount s3fs hoge-bucket /s3 -o rw,allow_other,uid=501,gid=501,default_acl=public-read su - apps cd /s3 date &amp;gt; date.</description>
    </item>
    
    <item>
      <title>やる夫で学ぶ機械学習シリーズ</title>
      <link>https://yaasita.github.io/2016/06/11/deep-learning</link>
      <pubDate>Sat, 11 Jun 2016 23:55:00 +0900</pubDate>
      
      <guid>https://yaasita.github.io/2016/06/11/deep-learning</guid>
      <description>http://tkengo.github.io/blog/2016/06/06/yaruo-machine-learning0/</description>
    </item>
    
    <item>
      <title>HDDの不良セクタ埋める</title>
      <link>https://yaasita.github.io/2016/03/26/hdd_bad_sector</link>
      <pubDate>Sat, 26 Mar 2016 00:43:00 +0900</pubDate>
      
      <guid>https://yaasita.github.io/2016/03/26/hdd_bad_sector</guid>
      <description>HDDの不良セクタ代替処理を自動化
Reallocated_Sector_Ctが残ってれば使える手法
https://github.com/yaasita/hdd_badsector
使い方
smartctl -a /dev/sdc | ./hdd_check.pl /dev/sdc  </description>
    </item>
    
    <item>
      <title>Mojoliciousのwebsocket回り</title>
      <link>https://yaasita.github.io/2016/02/21/mojolicious</link>
      <pubDate>Sun, 21 Feb 2016 02:29:00 +0900</pubDate>
      
      <guid>https://yaasita.github.io/2016/02/21/mojolicious</guid>
      <description>websocketの開いてもデフォルト15秒でタイムアウトするのが嫌なら
↓みたいな感じでtimeout伸ばす
Mojo::IOLoop-&amp;gt;stream($self-&amp;gt;tx-&amp;gt;connection)-&amp;gt;timeout(300);    参考リンク
 http://kazuph.hateblo.jp/entry/20120310/1331395725
 https://github.com/yuki-kimoto/mojolicious-guides-japanese/wiki
  </description>
    </item>
    
    <item>
      <title>下位10%のダメなエンジニアシリーズ</title>
      <link>https://yaasita.github.io/2016/01/25/dame-engineer</link>
      <pubDate>Mon, 25 Jan 2016 00:23:00 +0900</pubDate>
      
      <guid>https://yaasita.github.io/2016/01/25/dame-engineer</guid>
      <description>パズル1  http://tango-ruby.hatenablog.com/entry/2015/11/30/122814
 http://challenge-your-limits.herokuapp.com/
  答え
curl http://challenge-your-limits.herokuapp.com/call/me # getだめだよって怒られる curl -F &amp;quot;hoge=hoge&amp;quot; http://challenge-your-limits.herokuapp.com/call/me # 適当にPOSTすると正しいURLを教えてくれる curl -F &amp;quot;name=hoge&amp;quot; -F &amp;quot;email=huga@hoge.com&amp;quot; \ http://challenge-your-limits.herokuapp.com/challenge_users # あとはこんな感じで  パズル2  http://tango-ruby.hatenablog.com/entry/2015/12/28/212010
 http://challenge-your-limits2.herokuapp.com/
  答え
curl http://challenge-your-limits2.herokuapp.com/call/my/APIs # メソッドが違うらしい curl -X DELETE http://challenge-your-limits2.herokuapp.com/call/my/APIs # いろいろ試すとDELETEで通る curl http://challenge-your-limits2.herokuapp.com/c2_users/12/hacker_apply # 案内されたURLにリクエストするとなんか違うらしい curl http://challenge-your-limits2.herokuapp.com/help/me/out # とりあえず登録 curl -F &amp;quot;username=yaasita&amp;quot; -F &#39;email=hoge1@example.com&#39; \ http://challenge-your-limits2.heroku/app.com/c2_users/ # 帰ってきた値でBASIC認証 curl --user yaasita:uRd4yy-imPbHBR4W http://challenge-your-limits2.herokuapp.com/c2_users/10 # あとは帰ってきた文字列をBASE64デコード  パズル3  http://tango-ruby.</description>
    </item>
    
    <item>
      <title>素因数分解の話</title>
      <link>https://yaasita.github.io/2016/01/11/factor</link>
      <pubDate>Mon, 11 Jan 2016 02:20:00 +0900</pubDate>
      
      <guid>https://yaasita.github.io/2016/01/11/factor</guid>
      <description>素因数分解してくれるサービス
http://factordb.com/
自分のSSH鍵がリストされてないか確認してみる
# 公開鍵の modulus ssh-keygen -m PKCS8 -e -f authorized_keys &amp;gt; kagi openssl rsa -pubin -inform PEM -text -noout &amp;lt; kagi &amp;gt; modulus # 秘密鍵の modulus とか prime1, prime2の確認 openssl rsa -text -noout -in ~/.ssh/id_rsa  こんな感じのスクリプトで10進数にすればOK
perlで大きめの数値計算する例も
 載ってない一安心
 http://goo.gl/Qqaed5
 http://goo.gl/yKVyUH
 参考リンク
 TeslaCrypt（vvvウイルス）によって暗号化されたファイルの復号手順メモ
   </description>
    </item>
    
    <item>
      <title>ISUCON5で惨敗した件</title>
      <link>https://yaasita.github.io/2015/09/30/isucon5</link>
      <pubDate>Wed, 30 Sep 2015 00:38:00 +0900</pubDate>
      
      <guid>https://yaasita.github.io/2015/09/30/isucon5</guid>
      <description>ISUCON5に参加してきました
T・D・U！T・D・U！という名前で出てみました
最高スコアは5000ちょっとでしたOTZ
感想  ISUCON
 会社以外の人ととチーム組むと他社の事情とか聞けて結構良いかもしれない
 idobata,GCE(Google Compute Engine)とか使ったことなかったからいい機会だったかも
 VM渡されて時間内に早くするんだ！って競技はルールも分かりやすくて面白い
 惨敗だったけど楽しかったし勉強になった
  GCP(Google Cloud Platform)
 なんかAWS慣れてる所為もあるんだろうけど結構手間取った
 ついでに触ったGoogle Cloud DNSはRoute53の方が高機能かな～
 あらかじめユーザ名＋鍵登録しておけばインスタンス立ち上げ時にユーザ作って鍵設定までしてくれて便利(小並感
  idobata
 slackと違って1ユーザのアカウントをチーム内で共有するみたいな感じなので
 会社内のチャット→slack
 会社を跨いだメンバーとのやり取り→idobataみたいな感じがよいのかな
  ちょっとISUCON中は重かったけどこれからに期待
   反省  最初に落ち着いて計測してみたほうが良かったかも
 制限時間があるから焦って、手当たり次第に対応してたけどもっと計測に時間とってやることやらない事決めてから取り掛かれば良かったかも
  troterにほぼ任せちゃったので。。。
  役割決めないとだったな
 お前これやる、俺これやる的な話してから取り掛かるべきだったかも
  やっぱコード読まなきゃダメ
 パラメータチューニングとかでもちょっとはスコア上がるけど、ロジック見て良い感じの実装にするのは必須ですた
 例年 sinatraアプリらしいので一個くらいは作ってから望むべきだったかも
   参考リンク  ISUCON5の予選に参加して惨敗してきました #isucon</description>
    </item>
    
    <item>
      <title>コードを書いて実力判定</title>
      <link>https://yaasita.github.io/2015/06/06/codeeval</link>
      <pubDate>Sat, 06 Jun 2015 21:50:00 +0900</pubDate>
      
      <guid>https://yaasita.github.io/2015/06/06/codeeval</guid>
      <description>コード書くと評価してくれるようなサービス
https://www.codeeval.com/browse/1/</description>
    </item>
    
  </channel>
</rss>
