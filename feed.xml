<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Blog Name</title>
  <subtitle>Blog subtitle</subtitle>
  <id>http://blog.url.com/</id>
  <link href="http://blog.url.com/"/>
  <link href="http://blog.url.com/feed.xml" rel="self"/>
  <updated>2016-12-03T23:22:00+09:00</updated>
  <author>
    <name>Blog Author</name>
  </author>
  <entry>
    <title>GCPの Cloud DNSでグルーレコード</title>
    <link rel="alternate" href="http://blog.url.com/2016/12/03/google-cloud-dns.html"/>
    <id>http://blog.url.com/2016/12/03/google-cloud-dns.html</id>
    <published>2016-12-03T23:22:00+09:00</published>
    <updated>2016-12-04T10:38:51+09:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;Google Cloud Platform のDNSでグルーレコード作るときは&lt;br&gt;
こんな感じでNS指定したあとに、Aレコード追加すればグルーレコード(Glue Record)に追加してくれるようだ&lt;/p&gt;

&lt;p&gt;&lt;img alt="gcp" src="http://68.media.tumblr.com/b316f08942ffb999860abca6d9f5d5aa/tumblr_ohm57cZVtD1riy4fno1_1280.png" /&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;; &amp;lt;&amp;lt;&amp;gt;&amp;gt; DiG 9.9.5-9+deb8u8-Debian &amp;lt;&amp;lt;&amp;gt;&amp;gt; +norec @ns-cloud-d1.googledomains.com. name.yaasita.xyz. a
; (2 servers found)
;; global options: +cmd
;; Got answer:
;; -&amp;gt;&amp;gt;HEADER&amp;lt;&amp;lt;- opcode: QUERY, status: NOERROR, id: 39015
;; flags: qr; QUERY: 1, ANSWER: 0, AUTHORITY: 2, ADDITIONAL: 3

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 512
;; QUESTION SECTION:
;name.yaasita.xyz.              IN      A

;; AUTHORITY SECTION:
name.yaasita.xyz.       300     IN      NS      ns1.name.yaasita.xyz.
name.yaasita.xyz.       300     IN      NS      ns2.name.yaasita.xyz.

;; ADDITIONAL SECTION:
ns1.name.yaasita.xyz.   300     IN      A       192.168.0.1
ns2.name.yaasita.xyz.   300     IN      A       192.168.0.2

;; Query time: 143 msec
;; SERVER: 216.239.32.109#53(216.239.32.109)
;; WHEN: Sat Dec 03 23:23:55 JST 2016
;; MSG SIZE  rcvd: 113
&lt;/code&gt;&lt;/pre&gt;
</content>
  </entry>
  <entry>
    <title>VALUE-DOMAINでグルーレコード追加</title>
    <link rel="alternate" href="http://blog.url.com/2016/11/25/value-domain.html"/>
    <id>http://blog.url.com/2016/11/25/value-domain.html</id>
    <published>2016-11-25T01:31:00+09:00</published>
    <updated>2016-11-25T10:38:32+09:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;VALUE-DOMAIN バリュードメインの権威DNSサーバを使いつつ&lt;br&gt;
レコードにグルーレコードを追加する方法&lt;/p&gt;

&lt;p&gt;BINDみたくこんな感じにやる&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ns cloud cloud.example.net.
a cloud.example.net. 123.123.123.123
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;上位の権威サーバにグルーレコードを設定する場合は&lt;br&gt;
下記参照&lt;br&gt;
&lt;a href="https://www.value-domain.com/userguide/manual/othermodns/"&gt;https://www.value-domain.com/userguide/manual/othermodns/&lt;/a&gt;&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>AWSへVMイメージごと移動する手順</title>
    <link rel="alternate" href="http://blog.url.com/2016/11/20/aws-vm-import.html"/>
    <id>http://blog.url.com/2016/11/20/aws-vm-import.html</id>
    <published>2016-11-20T20:45:00+09:00</published>
    <updated>2016-11-21T10:38:39+09:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;h2 id="手順"&gt;手順&lt;/h2&gt;

&lt;p&gt;img作る前に以下を確認しておく&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;DHCPを有効にしている&lt;/li&gt;
&lt;li&gt;iptablesを無効に&lt;/li&gt;
&lt;li&gt;rawでイメージを作っておく&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;次に以下のコマンドでインポート&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# hoge-importってバケット作ったとする
# 最初にimgをS3に上げておく
aws s3 cp hoge.img s3://hoge-import/hoge.img

# IAM周りを準備
aws iam create-role --role-name vmimport --assume-role-policy-document file://trust-policy.json
aws iam put-role-policy --role-name vmimport --policy-name vmimport --policy-document file://role-policy.json

# インポートタスク開始
aws ec2 import-image --description &amp;quot;hoge server&amp;quot; --disk-containers file://containers.json

# 進捗見る
aws ec2 describe-import-image-tasks
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;使ったjsonファイル&lt;/p&gt;

&lt;script src="https://gist.github.com/yaasita/a707461e7b3a07bb64e8717cf5fbdcd0.js"&gt;&lt;/script&gt;

&lt;h2 id="参考リンク"&gt;参考リンク&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="http://docs.aws.amazon.com/ja_jp/AWSEC2/latest/UserGuide/VMImportPrerequisites.html#vmimport-image-formats"&gt;http://docs.aws.amazon.com/ja_jp/AWSEC2/latest/UserGuide/VMImportPrerequisites.html#vmimport-image-formats&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.aws.amazon.com/cli/latest/reference/ec2/import-image.html"&gt;http://docs.aws.amazon.com/cli/latest/reference/ec2/import-image.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
  </entry>
  <entry>
    <title>フレッツのDNS挙動</title>
    <link rel="alternate" href="http://blog.url.com/2016/10/31/flets-dns.html"/>
    <id>http://blog.url.com/2016/10/31/flets-dns.html</id>
    <published>2016-10-31T00:42:00+09:00</published>
    <updated>2016-10-31T10:39:38+09:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;&lt;a href="https://www.softel.co.jp/blogs/tech/archives/5075"&gt;NSレコードに指定したホスト名にCNAMEを持たせてはいけない&lt;/a&gt;&lt;br&gt;
という話は有名だがどのように挙動が変わるか見てみる&lt;/p&gt;

&lt;h1 id="準備"&gt;準備&lt;/h1&gt;

&lt;p&gt;yaasita.ml. の権威サーバは ns1.aws.yaasita.net. にしておく&lt;br&gt;
NSで指定されてるサーバは CNAMEとして aws.yaasita.net. に設定しておく&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;; &amp;lt;&amp;lt;&amp;gt;&amp;gt; DiG 9.9.5-9+deb8u7-Debian &amp;lt;&amp;lt;&amp;gt;&amp;gt; +norec @aws.yaasita.net. ns1.aws.yaasita.net. a
; (1 server found)
;; global options: +cmd
;; Got answer:
;; -&amp;gt;&amp;gt;HEADER&amp;lt;&amp;lt;- opcode: QUERY, status: NOERROR, id: 31880
;; flags: qr aa; QUERY: 1, ANSWER: 2, AUTHORITY: 1, ADDITIONAL: 1

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 4096
;; QUESTION SECTION:
;ns1.aws.yaasita.net.           IN      A

;; ANSWER SECTION:
ns1.aws.yaasita.net.    60      IN      CNAME   aws.yaasita.net.
aws.yaasita.net.        60      IN      A       54.159.240.111

;; AUTHORITY SECTION:
aws.yaasita.net.        60      IN      NS      aws.yaasita.net.

;; Query time: 205 msec
;; SERVER: 54.159.240.111#53(54.159.240.111)
;; WHEN: Mon Oct 31 00:53:20 JST 2016
;; MSG SIZE  rcvd: 92
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id="fletsのdnsキャッシュサーバ-210-130-1-1-の場合"&gt;FletsのDNSキャッシュサーバ(210.130.1.1)の場合&lt;/h1&gt;

&lt;p&gt;CNAMEとともにAレコードを返しているのでIPアドレスは取得可能だが、フレッツ側はエラーとなる&lt;br&gt;
この時点でエラーとなり hoge.yaasita.ml. のクエリ事態を発行しない&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;; &amp;lt;&amp;lt;&amp;gt;&amp;gt; DiG 9.9.5-9+deb8u7-Debian &amp;lt;&amp;lt;&amp;gt;&amp;gt; @210.130.0.1 hoge.yaasita.ml. a
; (1 server found)
;; global options: +cmd
;; Got answer:
;; -&amp;gt;&amp;gt;HEADER&amp;lt;&amp;lt;- opcode: QUERY, status: SERVFAIL, id: 28051
;; flags: qr rd ra; QUERY: 1, ANSWER: 0, AUTHORITY: 0, ADDITIONAL: 1

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 4096
;; QUESTION SECTION:
;hoge.yaasita.ml.               IN      A

;; Query time: 360 msec
;; SERVER: 210.130.0.1#53(210.130.0.1)
;; WHEN: Mon Oct 31 00:56:16 JST 2016
;; MSG SIZE  rcvd: 44
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id="google-8-8-8-8-dnsキャッシューサーバの場合"&gt;Google(8.8.8.8)DNSキャッシューサーバの場合&lt;/h1&gt;

&lt;p&gt;この場合、上記Aレコードを取得した後にCNAMEでも処理を続行し、&lt;br&gt;
hoge.yaasita.ml. の名前解決を行う&lt;br&gt;
フレッツと違い最終的なIPアドレスを取得可能&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;; &amp;lt;&amp;lt;&amp;gt;&amp;gt; DiG 9.9.5-9+deb8u7-Debian &amp;lt;&amp;lt;&amp;gt;&amp;gt; @8.8.8.8 hoge.yaasita.ml. a
; (1 server found)
;; global options: +cmd
;; Got answer:
;; -&amp;gt;&amp;gt;HEADER&amp;lt;&amp;lt;- opcode: QUERY, status: NOERROR, id: 54911
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 512
;; QUESTION SECTION:
;hoge.yaasita.ml.               IN      A

;; ANSWER SECTION:
hoge.yaasita.ml.        59      IN      A       54.159.240.111

;; Query time: 671 msec
;; SERVER: 8.8.8.8#53(8.8.8.8)
;; WHEN: Mon Oct 31 00:58:23 JST 2016
;; MSG SIZE  rcvd: 60
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id="シーケンス図"&gt;シーケンス図&lt;/h1&gt;

&lt;p&gt;&lt;img alt="google" src="http://67.media.tumblr.com/1acfd39dc50a194dedb3c315956d4c41/tumblr_ofvbwq0oXY1riy4fno2_500.png" /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img alt="flets" src="http://65.media.tumblr.com/9a455e1cb541b4fceca47c611716ab15/tumblr_ofvbwq0oXY1riy4fno1_500.png" /&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href="http://yaasita.tumblr.com/post/152512953297"&gt;http://yaasita.tumblr.com/post/152512953297&lt;/a&gt;&lt;/p&gt;

&lt;h1 id="ちなみに"&gt;ちなみに&lt;/h1&gt;

&lt;p&gt;unbound 1.4.22 ( debian 8 )でもGoogleと同じようにCNAMEでもOKだった&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>最近買ったスマホ</title>
    <link rel="alternate" href="http://blog.url.com/2016/10/22/smart-phone.html"/>
    <id>http://blog.url.com/2016/10/22/smart-phone.html</id>
    <published>2016-10-22T22:54:00+09:00</published>
    <updated>2016-10-23T10:39:15+09:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;pre&gt;&lt;code&gt;エイスース SIMフリースマートフォン 
ZenFone 2 Laser（Qualcomm Snapdragon 410/メモリ 2GB）
16GB ブラック ZE500KL-BK16
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;18,672円だった&lt;/p&gt;

&lt;p&gt;Androidは6.0.1まで上がった&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>更新通知のbashrc</title>
    <link rel="alternate" href="http://blog.url.com/2016/09/10/update-notify.html"/>
    <id>http://blog.url.com/2016/09/10/update-notify.html</id>
    <published>2016-09-10T12:52:00+09:00</published>
    <updated>2016-09-11T10:40:08+09:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;こんな感じで、更新を促す&lt;/p&gt;

&lt;script src="https://gist.github.com/yaasita/f5c755e6c5ed0cdb1f294f37fe4e4642.js"&gt;&lt;/script&gt;
</content>
  </entry>
  <entry>
    <title>超次元アクション ネプテューヌU</title>
    <link rel="alternate" href="http://blog.url.com/2016/09/04/nepu.html"/>
    <id>http://blog.url.com/2016/09/04/nepu.html</id>
    <published>2016-09-04T03:13:00+09:00</published>
    <updated>2016-09-04T10:38:51+09:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;Vita版のやつ&lt;/p&gt;

&lt;h1 id="ギョウ界チ武道会"&gt;ギョウ界チ武道会&lt;/h1&gt;

&lt;p&gt;クリアしたキャラ&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ネプチューヌ&lt;/li&gt;
&lt;li&gt;ノワール&lt;/li&gt;
&lt;li&gt;ブラン&lt;/li&gt;
&lt;li&gt;ベール&lt;/li&gt;
&lt;li&gt;ネプギア&lt;/li&gt;
&lt;li&gt;ユニ&lt;/li&gt;
&lt;li&gt;ロム&lt;/li&gt;
&lt;li&gt;ラム&lt;/li&gt;
&lt;li&gt;デンゲキコ&lt;/li&gt;
&lt;li&gt;パープルハート&lt;/li&gt;
&lt;li&gt;ブラックハート&lt;/li&gt;
&lt;li&gt;ホワイトハート&lt;/li&gt;
&lt;li&gt;グリーンハート&lt;/li&gt;
&lt;li&gt;パープルシスター&lt;/li&gt;
&lt;li&gt;ブラックシスター&lt;/li&gt;
&lt;li&gt;ホワイトシスター(左)&lt;/li&gt;
&lt;li&gt;ホワイトシスター(右)&lt;/li&gt;
&lt;li&gt;ファミ通&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;-&amp;gt; 取得したアイテムで審議判定できる&lt;br&gt;
&lt;a href="http://catmiimi.com/nepu_military"&gt;http://catmiimi.com/nepu_military&lt;/a&gt;&lt;/p&gt;

&lt;h1 id="参考リンク"&gt;参考リンク&lt;/h1&gt;

&lt;p&gt;&lt;a href="http://catmiimi.com/nepu"&gt;http://catmiimi.com/nepu&lt;/a&gt;&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>smplayerでリピート再生</title>
    <link rel="alternate" href="http://blog.url.com/2016/08/27/smplayer.html"/>
    <id>http://blog.url.com/2016/08/27/smplayer.html</id>
    <published>2016-08-27T14:33:00+09:00</published>
    <updated>2016-08-28T10:39:55+09:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;ずっとループして再生&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;再生(P) → A-Bセクション(A) → 繰り返し(R)&lt;/li&gt;
&lt;/ul&gt;
</content>
  </entry>
  <entry>
    <title>AWSのVPNまわり</title>
    <link rel="alternate" href="http://blog.url.com/2016/07/31/aws-vpn.html"/>
    <id>http://blog.url.com/2016/07/31/aws-vpn.html</id>
    <published>2016-07-31T00:36:00+09:00</published>
    <updated>2016-07-31T10:38:11+09:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;よくある質問&lt;br&gt;
対応機器&lt;br&gt;
&lt;a href="http://aws.amazon.com/jp/vpc/faqs/"&gt;http://aws.amazon.com/jp/vpc/faqs/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ハードウェアVPN接続&lt;br&gt;
- 1つの仮想プライベートゲートウェイあたり10接続&lt;br&gt;
&lt;a href="http://docs.aws.amazon.com/ja_jp/AmazonVPC/latest/UserGuide/VPC_Appendix_Limits.html"&gt;http://docs.aws.amazon.com/ja_jp/AmazonVPC/latest/UserGuide/VPC_Appendix_Limits.html&lt;/a&gt;&lt;br&gt;
&lt;a href="http://dev.classmethod.jp/cloud/aws/vpc-connect-hardware-vpn/"&gt;http://dev.classmethod.jp/cloud/aws/vpc-connect-hardware-vpn/&lt;/a&gt;&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>s3fs使う</title>
    <link rel="alternate" href="http://blog.url.com/2016/06/22/s3fs.html"/>
    <id>http://blog.url.com/2016/06/22/s3fs.html</id>
    <published>2016-06-22T13:40:00+09:00</published>
    <updated>2016-06-23T10:38:16+09:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;s3fsはamazon S3をファイルしすてむのように使うやつ&lt;br&gt;
ただ遅い&lt;/p&gt;

&lt;p&gt;基本ここ見てやる&lt;br&gt;
&lt;a href="https://github.com/s3fs-fuse/s3fs-fuse/wiki/Installation-Notes"&gt;https://github.com/s3fs-fuse/s3fs-fuse/wiki/Installation-Notes&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;今回はCeontOS6を対象&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# paco入れておく
yum install paco

# コンパイルに必要なもの入れる
yum install -y gcc libstdc++-devel gcc-c++ curl-devel libxml2-devel openssl-devel mailcap

# fuse
wget https://github.com/libfuse/libfuse/releases/download/fuse_2_9_4/fuse-2.8.5.tar.gz
./configure 
make
paco -lD &amp;#39;make install&amp;#39;

# /usr/local/lib 追記
vi /etc/ld.so.conf
ldconfig

# s3fs
wget http://s3fs.googlecode.com/files/s3fs-1.74.tar.gz
tar xvaf s3fs-1.74.tar.gz
cd s3fs-1.74/ 
autoreconf --install 
export PKG_CONFIG_PATH=/usr/local/lib/pkgconfig 
./configure --prefix=/usr
make
paco -lD &amp;#39;make install&amp;#39;

# mount
s3fs hoge-bucket /s3 -o rw,allow_other,uid=501,gid=501,default_acl=public-read
su - apps
cd /s3
date &amp;gt; date.txt
# http://hoge-bucket.s3.amazonaws.com/date.txt =&amp;gt; 見れる(｀・ω・´)v

# なんかエラーになるとき再起動時とか
Transport endpoint is not connected
umount /s3
mount /s3

# パーミッションの制御
x-amz-meta-modeってメタデータでやってるぽい
aws s3 sync /s3/test s3://hoge-bucket/test --delete --metadata  &amp;quot;mode=33279&amp;quot; --size-only
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;今はこれより早い goofys なるものもあるらしい&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/kahing/goofys"&gt;https://github.com/kahing/goofys&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://dev.classmethod.jp/cloud/aws/how-to-use-s3fs-goofys/"&gt;http://dev.classmethod.jp/cloud/aws/how-to-use-s3fs-goofys/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
  </entry>
</feed>
